{"reason":"compiler-message","package_id":"path+file:///home/soares/development/cgp-error-improvement/examples#cgp-error-messages-example@0.1.0","manifest_path":"/home/soares/development/cgp-error-improvement/examples/Cargo.toml","target":{"kind":["lib"],"crate_types":["lib"],"name":"cgp_error_messages_example","src_path":"/home/soares/development/cgp-error-improvement/examples/src/lib.rs","edition":"2024","doc":true,"doctest":true,"test":true},"message":{"rendered":"error[E0277]: the trait bound `RectangleArea: AreaCalculator<Rectangle>` is not satisfied\n  --> examples/src/density.rs:64:9\n   |\n64 |         DensityCalculatorComponent,\n   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ unsatisfied trait bound\n   |\nhelp: the trait `AreaCalculator<Rectangle>` is not implemented for `RectangleArea`\n  --> examples/src/density.rs:25:1\n   |\n25 | #[cgp_impl(new RectangleArea)]\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nhelp: the trait `AreaCalculator<__Context__>` is implemented for `RectangleArea`\n  --> examples/src/density.rs:25:1\n   |\n25 | #[cgp_impl(new RectangleArea)]\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: required for `Rectangle` to implement `CanCalculateArea`\n  --> examples/src/density.rs:3:1\n   |\n 3 | #[cgp_component(AreaCalculator)]\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: required for `DensityFromMassField` to implement `cgp::prelude::IsProviderFor<DensityCalculatorComponent, Rectangle>`\n  --> examples/src/density.rs:35:1\n   |\n35 | #[cgp_impl(new DensityFromMassField)]\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n...\n38 |     Self: CanCalculateArea + HasMass,\n   |           ---------------- unsatisfied trait bound introduced here\n   = note: required for `Rectangle` to implement `cgp::prelude::CanUseComponent<DensityCalculatorComponent>`\nnote: required by a bound in `CanUseRectangle`\n  --> examples/src/density.rs:62:1\n   |\n62 | / check_components! {\n63 | |     CanUseRectangle for Rectangle {\n64 | |         DensityCalculatorComponent,\n65 | |     }\n66 | | }\n   | |_^ required by this bound in `CanUseRectangle`\n   = note: this error originates in the attribute macro `cgp_impl` which comes from the expansion of the macro `check_components` (in Nightly builds, run with -Z macro-backtrace for more info)\n\n","$message_type":"diagnostic","children":[{"children":[],"code":null,"level":"help","message":"the trait `AreaCalculator<Rectangle>` is not implemented for `RectangleArea`","rendered":null,"spans":[{"byte_end":423,"byte_start":395,"column_end":29,"column_start":1,"expansion":{"def_site_span":{"byte_end":6999,"byte_start":6931,"column_end":69,"column_start":1,"expansion":null,"file_name":"/home/soares/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cgp-macro-0.6.1/src/lib.rs","is_primary":false,"label":null,"line_end":207,"line_start":207,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":69,"highlight_start":1,"text":"pub fn cgp_impl(attr: TokenStream, item: TokenStream) -> TokenStream {"}]},"macro_decl_name":"#[cgp_impl]","span":{"byte_end":425,"byte_start":395,"column_end":31,"column_start":1,"expansion":null,"file_name":"examples/src/density.rs","is_primary":false,"label":null,"line_end":25,"line_start":25,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":31,"highlight_start":1,"text":"#[cgp_impl(new RectangleArea)]"}]}},"file_name":"examples/src/density.rs","is_primary":true,"label":null,"line_end":25,"line_start":25,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":29,"highlight_start":1,"text":"#[cgp_impl(new RectangleArea)]"}]}]},{"children":[],"code":null,"level":"help","message":"the trait `AreaCalculator<__Context__>` is implemented for `RectangleArea`","rendered":null,"spans":[{"byte_end":425,"byte_start":395,"column_end":31,"column_start":1,"expansion":{"def_site_span":{"byte_end":6999,"byte_start":6931,"column_end":69,"column_start":1,"expansion":null,"file_name":"/home/soares/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cgp-macro-0.6.1/src/lib.rs","is_primary":false,"label":null,"line_end":207,"line_start":207,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":69,"highlight_start":1,"text":"pub fn cgp_impl(attr: TokenStream, item: TokenStream) -> TokenStream {"}]},"macro_decl_name":"#[cgp_impl]","span":{"byte_end":425,"byte_start":395,"column_end":31,"column_start":1,"expansion":null,"file_name":"examples/src/density.rs","is_primary":false,"label":null,"line_end":25,"line_start":25,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":31,"highlight_start":1,"text":"#[cgp_impl(new RectangleArea)]"}]}},"file_name":"examples/src/density.rs","is_primary":true,"label":null,"line_end":25,"line_start":25,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":31,"highlight_start":1,"text":"#[cgp_impl(new RectangleArea)]"}]}]},{"children":[],"code":null,"level":"note","message":"required for `Rectangle` to implement `CanCalculateArea`","rendered":null,"spans":[{"byte_end":54,"byte_start":22,"column_end":33,"column_start":1,"expansion":{"def_site_span":{"byte_end":2269,"byte_start":2196,"column_end":74,"column_start":1,"expansion":null,"file_name":"/home/soares/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cgp-macro-0.6.1/src/lib.rs","is_primary":false,"label":null,"line_end":69,"line_start":69,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":74,"highlight_start":1,"text":"pub fn cgp_component(attr: TokenStream, item: TokenStream) -> TokenStream {"}]},"macro_decl_name":"#[cgp_component]","span":{"byte_end":54,"byte_start":22,"column_end":33,"column_start":1,"expansion":null,"file_name":"examples/src/density.rs","is_primary":false,"label":null,"line_end":3,"line_start":3,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":33,"highlight_start":1,"text":"#[cgp_component(AreaCalculator)]"}]}},"file_name":"examples/src/density.rs","is_primary":true,"label":null,"line_end":3,"line_start":3,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":33,"highlight_start":1,"text":"#[cgp_component(AreaCalculator)]"}]}]},{"children":[],"code":null,"level":"note","message":"required for `DensityFromMassField` to implement `cgp::prelude::IsProviderFor<DensityCalculatorComponent, Rectangle>`","rendered":null,"spans":[{"byte_end":652,"byte_start":636,"column_end":27,"column_start":11,"expansion":null,"file_name":"examples/src/density.rs","is_primary":false,"label":"unsatisfied trait bound introduced here","line_end":38,"line_start":38,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":27,"highlight_start":11,"text":"    Self: CanCalculateArea + HasMass,"}]},{"byte_end":596,"byte_start":559,"column_end":38,"column_start":1,"expansion":{"def_site_span":{"byte_end":6999,"byte_start":6931,"column_end":69,"column_start":1,"expansion":null,"file_name":"/home/soares/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cgp-macro-0.6.1/src/lib.rs","is_primary":false,"label":null,"line_end":207,"line_start":207,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":69,"highlight_start":1,"text":"pub fn cgp_impl(attr: TokenStream, item: TokenStream) -> TokenStream {"}]},"macro_decl_name":"#[cgp_impl]","span":{"byte_end":596,"byte_start":559,"column_end":38,"column_start":1,"expansion":null,"file_name":"examples/src/density.rs","is_primary":false,"label":null,"line_end":35,"line_start":35,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":38,"highlight_start":1,"text":"#[cgp_impl(new DensityFromMassField)]"}]}},"file_name":"examples/src/density.rs","is_primary":true,"label":null,"line_end":35,"line_start":35,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":38,"highlight_start":1,"text":"#[cgp_impl(new DensityFromMassField)]"}]},{"byte_end":594,"byte_start":574,"column_end":36,"column_start":16,"expansion":null,"file_name":"examples/src/density.rs","is_primary":true,"label":null,"line_end":35,"line_start":35,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":36,"highlight_start":16,"text":"#[cgp_impl(new DensityFromMassField)]"}]}]},{"children":[],"code":null,"level":"note","message":"required for `Rectangle` to implement `cgp::prelude::CanUseComponent<DensityCalculatorComponent>`","rendered":null,"spans":[]},{"children":[],"code":null,"level":"note","message":"required by a bound in `CanUseRectangle`","rendered":null,"spans":[{"byte_end":1171,"byte_start":1072,"column_end":2,"column_start":1,"expansion":{"def_site_span":{"byte_end":17539,"byte_start":17482,"column_end":58,"column_start":1,"expansion":null,"file_name":"/home/soares/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cgp-macro-0.6.1/src/lib.rs","is_primary":false,"label":null,"line_end":565,"line_start":565,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":58,"highlight_start":1,"text":"pub fn check_components(body: TokenStream) -> TokenStream {"}]},"macro_decl_name":"check_components!","span":{"byte_end":1171,"byte_start":1072,"column_end":2,"column_start":1,"expansion":null,"file_name":"examples/src/density.rs","is_primary":false,"label":null,"line_end":66,"line_start":62,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":20,"highlight_start":1,"text":"check_components! {"},{"highlight_end":36,"highlight_start":1,"text":"    CanUseRectangle for Rectangle {"},{"highlight_end":36,"highlight_start":1,"text":"        DensityCalculatorComponent,"},{"highlight_end":6,"highlight_start":1,"text":"    }"},{"highlight_end":2,"highlight_start":1,"text":"}"}]}},"file_name":"examples/src/density.rs","is_primary":true,"label":"required by this bound in `CanUseRectangle`","line_end":66,"line_start":62,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":20,"highlight_start":1,"text":"check_components! {"},{"highlight_end":36,"highlight_start":1,"text":"    CanUseRectangle for Rectangle {"},{"highlight_end":36,"highlight_start":1,"text":"        DensityCalculatorComponent,"},{"highlight_end":6,"highlight_start":1,"text":"    }"},{"highlight_end":2,"highlight_start":1,"text":"}"}]}]}],"level":"error","message":"the trait bound `RectangleArea: AreaCalculator<Rectangle>` is not satisfied","spans":[{"byte_end":1162,"byte_start":1136,"column_end":35,"column_start":9,"expansion":null,"file_name":"examples/src/density.rs","is_primary":true,"label":"unsatisfied trait bound","line_end":64,"line_start":64,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":35,"highlight_start":9,"text":"        DensityCalculatorComponent,"}]}],"code":{"code":"E0277","explanation":"You tried to use a type which doesn't implement some trait in a place which\nexpected that trait.\n\nErroneous code example:\n\n```compile_fail,E0277\n// here we declare the Foo trait with a bar method\ntrait Foo {\n    fn bar(&self);\n}\n\n// we now declare a function which takes an object implementing the Foo trait\nfn some_func<T: Foo>(foo: T) {\n    foo.bar();\n}\n\nfn main() {\n    // we now call the method with the i32 type, which doesn't implement\n    // the Foo trait\n    some_func(5i32); // error: the trait bound `i32 : Foo` is not satisfied\n}\n```\n\nIn order to fix this error, verify that the type you're using does implement\nthe trait. Example:\n\n```\ntrait Foo {\n    fn bar(&self);\n}\n\n// we implement the trait on the i32 type\nimpl Foo for i32 {\n    fn bar(&self) {}\n}\n\nfn some_func<T: Foo>(foo: T) {\n    foo.bar(); // we can now use this method since i32 implements the\n               // Foo trait\n}\n\nfn main() {\n    some_func(5i32); // ok!\n}\n```\n\nOr in a generic context, an erroneous code example would look like:\n\n```compile_fail,E0277\nfn some_func<T>(foo: T) {\n    println!(\"{:?}\", foo); // error: the trait `core::fmt::Debug` is not\n                           //        implemented for the type `T`\n}\n\nfn main() {\n    // We now call the method with the i32 type,\n    // which *does* implement the Debug trait.\n    some_func(5i32);\n}\n```\n\nNote that the error here is in the definition of the generic function. Although\nwe only call it with a parameter that does implement `Debug`, the compiler\nstill rejects the function. It must work with all possible input types. In\norder to make this example compile, we need to restrict the generic type we're\naccepting:\n\n```\nuse std::fmt;\n\n// Restrict the input type to types that implement Debug.\nfn some_func<T: fmt::Debug>(foo: T) {\n    println!(\"{:?}\", foo);\n}\n\nfn main() {\n    // Calling the method is still fine, as i32 implements Debug.\n    some_func(5i32);\n\n    // This would fail to compile now:\n    // struct WithoutDebug;\n    // some_func(WithoutDebug);\n}\n```\n\nRust only looks at the signature of the called function, as such it must\nalready specify all requirements that will be used for every type parameter.\n"}}}
{"reason":"compiler-message","package_id":"path+file:///home/soares/development/cgp-error-improvement/examples#cgp-error-messages-example@0.1.0","manifest_path":"/home/soares/development/cgp-error-improvement/examples/Cargo.toml","target":{"kind":["lib"],"crate_types":["lib"],"name":"cgp_error_messages_example","src_path":"/home/soares/development/cgp-error-improvement/examples/src/lib.rs","edition":"2024","doc":true,"doctest":true,"test":true},"message":{"rendered":"For more information about this error, try `rustc --explain E0277`.\n","$message_type":"diagnostic","children":[],"level":"failure-note","message":"For more information about this error, try `rustc --explain E0277`.","spans":[],"code":null}}
