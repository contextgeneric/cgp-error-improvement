{"reason":"compiler-message","package_id":"path+file:///home/soares/development/cgp-error-improvement/examples#cgp-error-messages-example@0.1.0","manifest_path":"/home/soares/development/cgp-error-improvement/examples/Cargo.toml","target":{"kind":["lib"],"crate_types":["lib"],"name":"cgp_error_messages_example","src_path":"/home/soares/development/cgp-error-improvement/examples/src/lib.rs","edition":"2024","doc":true,"doctest":true,"test":true},"message":{"rendered":"error[E0277]: the trait bound `Rectangle: cgp::prelude::CanUseComponent<AreaCalculatorComponent>` is not satisfied\n  --> examples/src/scaled_area_2.rs:58:9\n   |\n58 |         AreaCalculatorComponent,\n   |         ^^^^^^^^^^^^^^^^^^^^^^^ unsatisfied trait bound\n   |\nhelp: the trait `cgp::prelude::HasField<Symbol<12, cgp::prelude::Chars<'s', cgp::prelude::Chars<'c', cgp::prelude::Chars<'a', cgp::prelude::Chars<'l', cgp::prelude::Chars<'e', cgp::prelude::Chars<'_', cgp::prelude::Chars<'f', cgp::prelude::Chars<'a', cgp::prelude::Chars<'c', cgp::prelude::Chars<'t', cgp::prelude::Chars<'o', cgp::prelude::Chars<'r', Nil>>>>>>>>>>>>>>` is not implemented for `Rectangle`\n  --> examples/src/scaled_area_2.rs:42:1\n   |\n42 | pub struct Rectangle {\n   | ^^^^^^^^^^^^^^^^^^^^\nhelp: the following other types implement trait `cgp::prelude::HasField<Tag>`\n  --> examples/src/scaled_area_2.rs:41:10\n   |\n41 | #[derive(HasField)]\n   |          ^^^^^^^^\n   |          |\n   |          `Rectangle` implements `HasField<Symbol<5, Chars<'w', Chars<'i', ...>>>>`\n   |          `Rectangle` implements `HasField<Symbol<6, Chars<'h', Chars<'e', ...>>>>`\nnote: required for `Rectangle` to implement `HasScaleFactor`\n  --> examples/src/scaled_area_2.rs:25:1\n   |\n25 | #[cgp_auto_getter]\n   | ^^^^^^^^^^^^^^^^^^\n26 | pub trait HasScaleFactor {\n   |           ^^^^^^^^^^^^^^\nnote: required for `ScaledArea<RectangleArea>` to implement `cgp::prelude::IsProviderFor<AreaCalculatorComponent, Rectangle>`\n  --> examples/src/scaled_area_2.rs:30:1\n   |\n30 | #[cgp_impl(new ScaledArea<InnerCalculator>)]\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n...\n33 |     Self: HasScaleFactor,\n   |           -------------- unsatisfied trait bound introduced here\n   = note: required for `Rectangle` to implement `cgp::prelude::CanUseComponent<AreaCalculatorComponent>`\nnote: required by a bound in `CanUseRectangle`\n  --> examples/src/scaled_area_2.rs:56:1\n   |\n56 | / check_components! {\n57 | |     CanUseRectangle for Rectangle {\n58 | |         AreaCalculatorComponent,\n59 | |     }\n60 | | }\n   | |_^ required by this bound in `CanUseRectangle`\n   = note: the full name for the type has been written to '/home/soares/development/cgp-error-improvement/target/debug/deps/cgp_error_messages_example-8e13d63a65e6d8bf.long-type-8046747906968115155.txt'\n   = note: consider using `--verbose` to print the full type name to the console\n   = note: this error originates in the derive macro `HasField` which comes from the expansion of the macro `check_components` (in Nightly builds, run with -Z macro-backtrace for more info)\n\n","$message_type":"diagnostic","children":[{"children":[],"code":null,"level":"help","message":"the trait `cgp::prelude::HasField<Symbol<12, cgp::prelude::Chars<'s', cgp::prelude::Chars<'c', cgp::prelude::Chars<'a', cgp::prelude::Chars<'l', cgp::prelude::Chars<'e', cgp::prelude::Chars<'_', cgp::prelude::Chars<'f', cgp::prelude::Chars<'a', cgp::prelude::Chars<'c', cgp::prelude::Chars<'t', cgp::prelude::Chars<'o', cgp::prelude::Chars<'r', Nil>>>>>>>>>>>>>>` is not implemented for `Rectangle`","rendered":null,"spans":[{"byte_end":767,"byte_start":747,"column_end":21,"column_start":1,"expansion":null,"file_name":"examples/src/scaled_area_2.rs","is_primary":true,"label":null,"line_end":42,"line_start":42,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":21,"highlight_start":1,"text":"pub struct Rectangle {"}]}]},{"children":[],"code":null,"level":"help","message":"the following other types implement trait `cgp::prelude::HasField<Tag>`","rendered":null,"spans":[{"byte_end":744,"byte_start":736,"column_end":18,"column_start":10,"expansion":{"def_site_span":{"byte_end":30835,"byte_start":30781,"column_end":55,"column_start":1,"expansion":null,"file_name":"/home/soares/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cgp-macro-0.6.1/src/lib.rs","is_primary":false,"label":null,"line_end":1016,"line_start":1016,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":55,"highlight_start":1,"text":"pub fn derive_fields(item: TokenStream) -> TokenStream {"}]},"macro_decl_name":"#[derive(HasField)]","span":{"byte_end":744,"byte_start":736,"column_end":18,"column_start":10,"expansion":null,"file_name":"examples/src/scaled_area_2.rs","is_primary":false,"label":null,"line_end":41,"line_start":41,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":18,"highlight_start":10,"text":"#[derive(HasField)]"}]}},"file_name":"examples/src/scaled_area_2.rs","is_primary":true,"label":"`Rectangle` implements `HasField<Symbol<5, Chars<'w', Chars<'i', ...>>>>`","line_end":41,"line_start":41,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":18,"highlight_start":10,"text":"#[derive(HasField)]"}]},{"byte_end":744,"byte_start":736,"column_end":18,"column_start":10,"expansion":{"def_site_span":{"byte_end":30835,"byte_start":30781,"column_end":55,"column_start":1,"expansion":null,"file_name":"/home/soares/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cgp-macro-0.6.1/src/lib.rs","is_primary":false,"label":null,"line_end":1016,"line_start":1016,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":55,"highlight_start":1,"text":"pub fn derive_fields(item: TokenStream) -> TokenStream {"}]},"macro_decl_name":"#[derive(HasField)]","span":{"byte_end":744,"byte_start":736,"column_end":18,"column_start":10,"expansion":null,"file_name":"examples/src/scaled_area_2.rs","is_primary":false,"label":null,"line_end":41,"line_start":41,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":18,"highlight_start":10,"text":"#[derive(HasField)]"}]}},"file_name":"examples/src/scaled_area_2.rs","is_primary":true,"label":"`Rectangle` implements `HasField<Symbol<6, Chars<'h', Chars<'e', ...>>>>`","line_end":41,"line_start":41,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":18,"highlight_start":10,"text":"#[derive(HasField)]"}]}]},{"children":[],"code":null,"level":"note","message":"required for `Rectangle` to implement `HasScaleFactor`","rendered":null,"spans":[{"byte_end":407,"byte_start":389,"column_end":19,"column_start":1,"expansion":{"def_site_span":{"byte_end":12249,"byte_start":12174,"column_end":76,"column_start":1,"expansion":null,"file_name":"/home/soares/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cgp-macro-0.6.1/src/lib.rs","is_primary":false,"label":null,"line_end":375,"line_start":375,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":76,"highlight_start":1,"text":"pub fn cgp_auto_getter(attr: TokenStream, item: TokenStream) -> TokenStream {"}]},"macro_decl_name":"#[cgp_auto_getter]","span":{"byte_end":407,"byte_start":389,"column_end":19,"column_start":1,"expansion":null,"file_name":"examples/src/scaled_area_2.rs","is_primary":false,"label":null,"line_end":25,"line_start":25,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":19,"highlight_start":1,"text":"#[cgp_auto_getter]"}]}},"file_name":"examples/src/scaled_area_2.rs","is_primary":true,"label":null,"line_end":25,"line_start":25,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":19,"highlight_start":1,"text":"#[cgp_auto_getter]"}]},{"byte_end":432,"byte_start":418,"column_end":25,"column_start":11,"expansion":null,"file_name":"examples/src/scaled_area_2.rs","is_primary":true,"label":null,"line_end":26,"line_start":26,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":25,"highlight_start":11,"text":"pub trait HasScaleFactor {"}]}]},{"children":[],"code":null,"level":"note","message":"required for `ScaledArea<RectangleArea>` to implement `cgp::prelude::IsProviderFor<AreaCalculatorComponent, Rectangle>`","rendered":null,"spans":[{"byte_end":585,"byte_start":571,"column_end":25,"column_start":11,"expansion":null,"file_name":"examples/src/scaled_area_2.rs","is_primary":false,"label":"unsatisfied trait bound introduced here","line_end":33,"line_start":33,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":25,"highlight_start":11,"text":"    Self: HasScaleFactor,"}]},{"byte_end":517,"byte_start":473,"column_end":45,"column_start":1,"expansion":{"def_site_span":{"byte_end":6999,"byte_start":6931,"column_end":69,"column_start":1,"expansion":null,"file_name":"/home/soares/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cgp-macro-0.6.1/src/lib.rs","is_primary":false,"label":null,"line_end":207,"line_start":207,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":69,"highlight_start":1,"text":"pub fn cgp_impl(attr: TokenStream, item: TokenStream) -> TokenStream {"}]},"macro_decl_name":"#[cgp_impl]","span":{"byte_end":517,"byte_start":473,"column_end":45,"column_start":1,"expansion":null,"file_name":"examples/src/scaled_area_2.rs","is_primary":false,"label":null,"line_end":30,"line_start":30,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":45,"highlight_start":1,"text":"#[cgp_impl(new ScaledArea<InnerCalculator>)]"}]}},"file_name":"examples/src/scaled_area_2.rs","is_primary":true,"label":null,"line_end":30,"line_start":30,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":45,"highlight_start":1,"text":"#[cgp_impl(new ScaledArea<InnerCalculator>)]"}]},{"byte_end":515,"byte_start":488,"column_end":43,"column_start":16,"expansion":null,"file_name":"examples/src/scaled_area_2.rs","is_primary":true,"label":null,"line_end":30,"line_start":30,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":43,"highlight_start":16,"text":"#[cgp_impl(new ScaledArea<InnerCalculator>)]"}]}]},{"children":[],"code":null,"level":"note","message":"required for `Rectangle` to implement `cgp::prelude::CanUseComponent<AreaCalculatorComponent>`","rendered":null,"spans":[]},{"children":[],"code":null,"level":"note","message":"required by a bound in `CanUseRectangle`","rendered":null,"spans":[{"byte_end":1111,"byte_start":1015,"column_end":2,"column_start":1,"expansion":{"def_site_span":{"byte_end":17539,"byte_start":17482,"column_end":58,"column_start":1,"expansion":null,"file_name":"/home/soares/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cgp-macro-0.6.1/src/lib.rs","is_primary":false,"label":null,"line_end":565,"line_start":565,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":58,"highlight_start":1,"text":"pub fn check_components(body: TokenStream) -> TokenStream {"}]},"macro_decl_name":"check_components!","span":{"byte_end":1111,"byte_start":1015,"column_end":2,"column_start":1,"expansion":null,"file_name":"examples/src/scaled_area_2.rs","is_primary":false,"label":null,"line_end":60,"line_start":56,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":20,"highlight_start":1,"text":"check_components! {"},{"highlight_end":36,"highlight_start":1,"text":"    CanUseRectangle for Rectangle {"},{"highlight_end":33,"highlight_start":1,"text":"        AreaCalculatorComponent,"},{"highlight_end":6,"highlight_start":1,"text":"    }"},{"highlight_end":2,"highlight_start":1,"text":"}"}]}},"file_name":"examples/src/scaled_area_2.rs","is_primary":true,"label":"required by this bound in `CanUseRectangle`","line_end":60,"line_start":56,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":20,"highlight_start":1,"text":"check_components! {"},{"highlight_end":36,"highlight_start":1,"text":"    CanUseRectangle for Rectangle {"},{"highlight_end":33,"highlight_start":1,"text":"        AreaCalculatorComponent,"},{"highlight_end":6,"highlight_start":1,"text":"    }"},{"highlight_end":2,"highlight_start":1,"text":"}"}]}]},{"children":[],"code":null,"level":"note","message":"the full name for the type has been written to '/home/soares/development/cgp-error-improvement/target/debug/deps/cgp_error_messages_example-8e13d63a65e6d8bf.long-type-8046747906968115155.txt'","rendered":null,"spans":[]},{"children":[],"code":null,"level":"note","message":"consider using `--verbose` to print the full type name to the console","rendered":null,"spans":[]}],"level":"error","message":"the trait bound `Rectangle: cgp::prelude::CanUseComponent<AreaCalculatorComponent>` is not satisfied","spans":[{"byte_end":1102,"byte_start":1079,"column_end":32,"column_start":9,"expansion":null,"file_name":"examples/src/scaled_area_2.rs","is_primary":true,"label":"unsatisfied trait bound","line_end":58,"line_start":58,"suggested_replacement":null,"suggestion_applicability":null,"text":[{"highlight_end":32,"highlight_start":9,"text":"        AreaCalculatorComponent,"}]}],"code":{"code":"E0277","explanation":"You tried to use a type which doesn't implement some trait in a place which\nexpected that trait.\n\nErroneous code example:\n\n```compile_fail,E0277\n// here we declare the Foo trait with a bar method\ntrait Foo {\n    fn bar(&self);\n}\n\n// we now declare a function which takes an object implementing the Foo trait\nfn some_func<T: Foo>(foo: T) {\n    foo.bar();\n}\n\nfn main() {\n    // we now call the method with the i32 type, which doesn't implement\n    // the Foo trait\n    some_func(5i32); // error: the trait bound `i32 : Foo` is not satisfied\n}\n```\n\nIn order to fix this error, verify that the type you're using does implement\nthe trait. Example:\n\n```\ntrait Foo {\n    fn bar(&self);\n}\n\n// we implement the trait on the i32 type\nimpl Foo for i32 {\n    fn bar(&self) {}\n}\n\nfn some_func<T: Foo>(foo: T) {\n    foo.bar(); // we can now use this method since i32 implements the\n               // Foo trait\n}\n\nfn main() {\n    some_func(5i32); // ok!\n}\n```\n\nOr in a generic context, an erroneous code example would look like:\n\n```compile_fail,E0277\nfn some_func<T>(foo: T) {\n    println!(\"{:?}\", foo); // error: the trait `core::fmt::Debug` is not\n                           //        implemented for the type `T`\n}\n\nfn main() {\n    // We now call the method with the i32 type,\n    // which *does* implement the Debug trait.\n    some_func(5i32);\n}\n```\n\nNote that the error here is in the definition of the generic function. Although\nwe only call it with a parameter that does implement `Debug`, the compiler\nstill rejects the function. It must work with all possible input types. In\norder to make this example compile, we need to restrict the generic type we're\naccepting:\n\n```\nuse std::fmt;\n\n// Restrict the input type to types that implement Debug.\nfn some_func<T: fmt::Debug>(foo: T) {\n    println!(\"{:?}\", foo);\n}\n\nfn main() {\n    // Calling the method is still fine, as i32 implements Debug.\n    some_func(5i32);\n\n    // This would fail to compile now:\n    // struct WithoutDebug;\n    // some_func(WithoutDebug);\n}\n```\n\nRust only looks at the signature of the called function, as such it must\nalready specify all requirements that will be used for every type parameter.\n"}}}
{"reason":"compiler-message","package_id":"path+file:///home/soares/development/cgp-error-improvement/examples#cgp-error-messages-example@0.1.0","manifest_path":"/home/soares/development/cgp-error-improvement/examples/Cargo.toml","target":{"kind":["lib"],"crate_types":["lib"],"name":"cgp_error_messages_example","src_path":"/home/soares/development/cgp-error-improvement/examples/src/lib.rs","edition":"2024","doc":true,"doctest":true,"test":true},"message":{"rendered":"For more information about this error, try `rustc --explain E0277`.\n","$message_type":"diagnostic","children":[],"level":"failure-note","message":"For more information about this error, try `rustc --explain E0277`.","spans":[],"code":null}}
